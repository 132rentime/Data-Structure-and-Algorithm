## 线段树(区间树)

#### 什么是线段树

- Segment Tree

- 一类问题关心的是线段(区间)

  区间染色

  区间查询

- 解决某类问题

  更新：更新区间中的一个元素或者一个区间的值

  查询：查询一个区间的最大值、最小值或者数字和

  区间一般是固定的（不会添加或者删除）

- 时间复杂度

  |      | 使用数组实现 | 使用线段树实现 |
  | :--: | :----------: | :------------: |
  | 更新 |     O(n)     |    O(logn)     |
  | 查询 |     O(n)     |    O(logn)     |



#### 线段树基础表示

- 线段树不一定是满二叉树
- 线段树不一定是完全二叉树
- 线段树是平衡二叉树
- 对于满二叉树， 最后一层的节点数大致等于前面所有层节点之和
- 若区间有n个元素，数组表示需要4n的空间（最坏情况下，会浪费大概一半的空间）
- 线段树不考虑添加元素，即区间固定使用4n的静态空间
- 使用数组实现



#### 创建线段树

- 递归实现



#### 线段树中的区间查询

- 递归实现



#### Leetcode上线段树相关的问题

- NO.303，NO.307
- 线段树的优势在于更新操作



#### 线段树中的更新操作

- 递归实现



#### 更多线段树相关的话题

- 对一个区间进行更新

  懒惰更新

- 二维线段树
- 动态线段树
- 树状数组
- RMQ问题（Range Minimum Query）



#### 参考

1. [玩转算法系列--玩转数据结构 更适合0算法基础入门到进阶（java版）](https://coding.imooc.com/class/207.html)

